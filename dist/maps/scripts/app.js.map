{"version":3,"sources":["scripts/app.js"],"names":["angular","module","simulationCtrl","$log","$timeout","$interval","vm","this","simulateLoad","x","showTime","hideTime","showTPromise","element","addClass","cancel","hideTPromise","removeClass","dueTime","controller","$inject","followMouse","link","scope","elem","attrs","cssClass","listenForThisCssClassOnIt","selector","listenForThisSelector","observedElement","find","eventNamespace","mouseMoveEvent","e","hasClass","css","left","clientX","outerHeight","top","clientY","bindMouseMove","on","unbindMouseMove","off","window","length","observer","MutationObserver","mutations","forEach","mutation","attributeName","isOurCssClassPresent","target","classList","contains","observe","attributes","childList","characterData","templateUrl","directive","run","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,2BAIZ,WACE,YAOA,SAASC,GAAeC,EAAMC,EAAUC,GACtC,GAAIC,GAAKC,IAETD,GAAGE,aAAe,WAChB,GAIEC,GAJEC,EAAW,IACbC,EAAW,IACXC,EAAeR,EAAS,WAAaJ,QAAQa,QAAQ,SAASC,SAAS,WAAYV,EAASW,OAAOH,GAAeA,EAAe,MAASF,GAC1IM,EAAgBZ,EAAS,WAAaJ,QAAQa,QAAQ,SAASI,YAAY,WAAYb,EAASW,OAAOC,GAAeA,EAAe,MAASL,EAGhJN,GAAU,YACR,WACEI,EAAIC,EAAW,IAEfJ,EAAGY,QAAUT,EAAI,MAGlB,KAAOC,EAAW,GAAK,MAtB9BV,QACGC,OAAO,qBACPkB,WAAW,uBAAwBjB,GAuBtCA,EAAekB,SAAW,OAAQ,WAAY,gBAChD,WACE,YAOA,SAASC,KACP,OACEC,KAAM,SAASC,EAAOC,EAAMC,GAK1B,GAAIC,GAAWD,EAAME,0BACnBC,EAAWH,EAAMI,sBACjBC,EAAkB9B,QAAQa,QAAQe,GAClCf,EAAUb,QAAQa,QAAQW,GAAMO,KAAK,2BACrCC,EAAiB,eAMfC,EAAiB,SAASC,GACvBrB,EAAQsB,SAAS,YACpBtB,EAAQC,SAAS,WAInBD,EACKuB,KACCC,KAAQH,EAAEI,QAAUzB,EAAQ0B,aAAY,GACxCC,IAAON,EAAEO,QAAU5B,EAAQ0B,aAAY,MAG/CG,EAAgB,WAEd1C,QAAQa,QAAQ,QAAQ8B,GAAG,aAAoBX,EAAgBC,IAEjEW,EAAkB,WAEhB/B,EAAQI,YAAY,WAGpBjB,QAAQa,QAAQ,QAAQgC,IAAI,aAAoBb,GAGlD,IAAI,oBAAsBc,SAAUhB,EAAgBiB,OAAQ,CAC1D,GAAIC,GAAW,GAAIC,kBAAiB,SAASC,GACzCA,EAAUC,QAAQ,SAASC,GAEzB,GAA+B,UAA3BA,EAASC,cAA2B,CACtC,GAAIC,GAAuBF,EAASG,OAAOC,UAAUC,SAAS/B,EAE9D4B,GAAuBZ,IAAkBE,QAKjDI,GAASU,QAAQ5B,EAAgB,IAAM6B,YAAY,EAAMC,WAAW,EAAMC,eAAe,MAG7FC,YAAa,+CA7DjB9D,QACGC,OAAO,qBACP8D,UAAU,cAAe1C,MAgE9BrB,QAAQC,OAAO,qBAAqB+D,KAAK,iBAAkB,SAASC,GAAiBA,EAAeC,IAAI,8CAA8C","file":"scripts/app.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('followMouseLoader', []);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('followMouseLoader')\n    .controller('SimulationController', simulationCtrl);\n\n  /** @ngInject */\n  function simulationCtrl($log, $timeout, $interval) {\n    var vm = this;\n\n    vm.simulateLoad = function() {\n      var showTime = 1000,\n        hideTime = 3000,\n        showTPromise = $timeout(function() { angular.element('.test').addClass('loading'); $timeout.cancel(showTPromise); showTPromise = null; }, showTime),\n        hideTPromise =  $timeout(function() { angular.element('.test').removeClass('loading'); $timeout.cancel(hideTPromise); hideTPromise = null; }, hideTime),\n        x;\n\n      $interval(function() {\n        (function() {\n          x = showTime / 1000;\n\n          vm.dueTime = x - 1;\n        })();\n\n      }, 1000, (showTime + 1) / 1000);\n    };\n  }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('followMouseLoader')\n    .directive('followMouse', followMouse);\n\n  /** @ngInject */\n  function followMouse() {\n    return {\n      link: function(scope, elem, attrs) {\n        /*------------------------------------------------------------------\n        Properties\n        ------------------------------------------------------------------*/\n\n        var cssClass = attrs.listenForThisCssClassOnIt,\n          selector = attrs.listenForThisSelector,\n          observedElement = angular.element(selector),\n          element = angular.element(elem).find('.follow-mouse-container'),\n          eventNamespace = 'follow-mouse';\n\n        /*------------------------------------------------------------------\n        Methods\n        ------------------------------------------------------------------*/\n\n        var mouseMoveEvent = function(e) {\n          if (!element.hasClass('show-me')) {\n            element.addClass('show-me');\n          }\n\n          // Update loader's position.\n          element\n              .css({\n                'left': e.clientX - element.outerHeight(true),\n                'top': e.clientY + element.outerHeight(true)\n              });\n        },\n        bindMouseMove = function() {\n          // Bind mousemove with a custom namespace.\n          angular.element('html').on('mousemove' + '.' + eventNamespace, mouseMoveEvent);\n        },\n        unbindMouseMove = function() {\n          // Let's also hide the loader.\n          element.removeClass('show-me');\n\n          // Let's unbind mousemove within specific namespace.\n          angular.element('html').off('mousemove' + '.' + eventNamespace);\n        };\n\n        if ('MutationObserver' in window && observedElement.length) {\n          var observer = new MutationObserver(function(mutations) {\n              mutations.forEach(function(mutation) {\n                // Class changed ?\n                if (mutation.attributeName === 'class') {\n                  var isOurCssClassPresent = mutation.target.classList.contains(cssClass);\n\n                  isOurCssClassPresent ? bindMouseMove() : unbindMouseMove();\n                }\n              });\n            });\n\n          observer.observe(observedElement[0], { attributes: true, childList: true, characterData: true });\n        }\n      },\n      templateUrl: 'app/components/followMouse/followMouse.html'\n    }\n  }\n\n})();\nangular.module(\"followMouseLoader\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/followMouse/followMouse.html\",\"<div class=\\\"follow-mouse-container\\\"></div>\");}]);"],"sourceRoot":"/source/"}